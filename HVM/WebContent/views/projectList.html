<div id="contents">
	<div id="contents_top">
		<div class="btn">
			<a href="#/newProject/new" class="btn-add">+ 새항목 추가</a>
		</div>

		<div class="viewType" ng-mouseleave="showViewTypeList = false">
			<div class="selectedItem"
				ng-click="showViewTypeList = !showViewTypeList">{{selectedItem}}</div>
			<div class="selectList" ng-show="showViewTypeList">
				<div ng-repeat="item in selectItem"
					ng-click="selectViewType($index)">{{item}}</div>
			</div>
		</div>

		<div class="search">
			<img src="images/icon_search.png" ng-click="search()"/> <input name="" type="text"
				border="1" ng-model="keywords" ng-keypress="enterKeySearch($event)" />
		</div>
	</div>
	<div ng-show="showProjectList">
		<div id="contents_bottom" ng-show="!result.length">
			<div class="box_header">
			</div>
			<div class="box_body">
				<div class="box_body noresult">No Result</div>
			</div>
		</div>	
		<div id="contents_bottom" ng-repeat="project in result">
			<div class="box_header">
				<span><a href="#/newProject/{{project.pssPrjId}}"><img src="images/btn_edit.png" /></a></span> <span><a
					href=""><img src="images/btn_delete.png" ng-click="removeProject(project)"/></a></span>

				<div class="preparingPerson">
					<img class="userProfileImgSmall"
						src="{{image_path}}{{project.createdUserObj.picture}}" />
					<ul>
						<li>{{project.createdUserObj.username}}</li>
						<li>{{project.createdDate}}</li>
					</ul>
				</div>
			</div>
			<div class="box_body">
				<div class="left">
					<div class="pss">
						<ul>
							<li class="project">PSS project</li>
							<li class="p_name">{{project.pssPrjName}}</li>
						</ul>
						<div class="explain">
							<img src="{{image_path}}{{project.pssPrjPicture}}" />
							<div class="text">
								<p>{{project.pssPrjDescription}}</p>
							</div>
						</div>
					</div>
					<div class="sbp">
						<table width="400" border="0" cellpadding="0" cellspacing="0">
							<tr ng-repeat="sbpGroup in project.sbpGroupList">
								<td>{{$index}}.{{sbpGroup}}</td>
							</tr>
						</table>
					</div>
				</div>
				<div class="right">
					<div class="list" ng-show="showAttrList('Value')">
						<table width="100%" border="1" cellpadding="0">
							<tr>
								<th scope="col">Value</th>
								<th scope="col">Attribute</th>
								<th scope="col">P/N</th>
								<th scope="col">Activity</th>
								<th scope="col">SBP</th>
							</tr>
							<tr ng-repeat="attr in project.attributes | orderBy:'valueName'"
								" ng-init="attr.sbpIndex=getSbpGroupIndex(project,project.sbpPrjName +'_'+ attr.sbpName)">
								<td ng-click="openValueViewModal(project.pssPrjId, attr.valueName)">{{attr.valueName}}</td>
								<td>{{attr.attributeName}}</td>
								<td class="pn">{{attr.attributeType}}</td>
								<td ng-click="openActivityViewModal(attr)">{{attr.activityName}}</td>
								<td class="sbp" ng-click="openSbpViewModal(attr.sbpId, attr.sbpName)">{{attr.sbpIndex}}</td>
							</tr>
						</table>
					</div>
					<div class="list" ng-show="showAttrList('Activity')">
						<table width="100%" border="1" cellpadding="0">
							<tr>
								<th scope="col">Activity</th>
								<th scope="col">SBP</th>
								<th scope="col">Attribute</th>
								<th scope="col">P/N</th>
								<th scope="col">Value</th>
							</tr>
							<tr
								ng-repeat="attr in project.attributes | orderBy:'activityName'"
								ng-init="attr.sbpIndex=getSbpGroupIndex(project,project.sbpPrjName +'_'+ attr.sbpName)">
								<td>{{attr.activityName}}</td>
								<td class="sbp">{{attr.sbpIndex}}</td>
								<td>{{attr.attributeName}}</td>
								<td class="pn">{{attr.attributeType}}</td>
								<td>{{attr.valueName}}</td>
							</tr>
						</table>
					</div>
				</div>
			</div>
		</div>
<!-- 		<div align="center" ng-show="result.length">
			<ul class="pagination pagination-sm">
				<li><a href="">«</a></li>
				<li><a href=""
					ng-repeat="n in [].constructor(totalPages) track by $index"
					ng-click="clickPrjPageNo($index)">{{$index + 1}}</a></li>
				<li><a href="">»</a></li>
			</ul>
		</div> -->
		<div align="center" ng-show="result.length">
			<ul class="pagination pagination-sm">
				<li><a  href="" ng-click="clickPrjPrevPage()">«</a></li>
				<li><a href=""
					ng-class="getPrjPagingCountStyle(n)"
					ng-repeat="n in projectPagingCounts track by $index"
					ng-click="clickPrjPageNo(n-1)">{{n}}</a></li>
				<li><a href="" ng-click="clickPrjNextPage()">»</a></li>
			</ul>
		</div>




	</div>
	<div ng-show="showAttributeList">
		<div id="contents_bottom" ng-show="!attrResult.length">
			<div class="box_header">
			</div>
			<div class="box_body">
				<div class="box_body noresult">No Result</div>
			</div>
		</div>
		<div id="contents_bottom" ng-show="attrResult.length">
			<div class="box_header">
			</div>
			<div class="box_body_attr">
				<div class="list">
					<table width="700" border="1" cellpadding="0">
						<tr>
							<th scope="col">Attribute</th>
							<th scope="col">P/N</th>
							<th scope="col">PSS Project</th>
							<th scope="col">Value</th>
							<th scope="col">SBP</th>
							<th scope="col">Activity</th>
						</tr>
						<tr ng-repeat="attribute in attrResult | orderBy:'attributeName'">
							<td>{{attribute.attributeName}}</td>
							<td>{{attribute.attributeType}}</td>
							<td>{{attribute.project.pssPrjName}}</td>
							<td>{{attribute.valueName}}</td>
							<td>{{attribute.project.sbpPrjName}}_{{attribute.sbpName}}</td>
							<td>{{attribute.activityName}}</td>
						</tr>
					</table>
				</div>
			</div>
		</div>
		<div align="center" ng-show="attrResult.length">
			<ul class="pagination pagination-sm">
				<li><a ng-click="clickAttrPrevPage()">«</a></li>
				<li><a href=""
					ng-class="getAttrPagingCountStyle(n)"
					ng-repeat="n in attrPagingCounts track by $index"
					ng-click="clickAttrPageNo(n-1)">{{n}}</a></li>
				<li><a href="" ng-click="clickAttrNextPage()">»</a></li>
			</ul>
		</div>
	</div>
</div>
<div id="showActivityViewModal" class="modal" ng-style="activityView_modal_style">
	<div class="modal-content">
		<div class="modalHeader">
			<span class="modalTitle">ACTIVITY</span>
			<span class="closeBtn" ng-click="closeActivityViewModal()">x</span>
		</div>
		<div class="iframe">
			<iframe refreshable="refreshActView" id="activityView" width="100%" height="600" ng-src="{{trustSrc('activityView')}}" frameborder="0" ></iframe>
		</div>
	</div>
</div>
<div id="showSbpViewModal" class="modal" ng-style="sbpView_modal_style">
	<div class="modal-content" style="width:90%;height:90%">
		<div class="modalHeader">
			<span class="modalTitle">SBP</span>
			<span class="closeBtn" ng-click="closeSbpViewModal()">x</span>
		</div>
		<div class="iframe">
			<iframe refreshable="refreshSbpView" id="sbpView" width="100%" height="600" ng-src="{{trustSrc('sbpView')}}" frameborder="0" ></iframe>
		</div>
	</div>
</div>
<div id="showValueViewModal" class="modal" ng-style="valueView_modal_style">
	<div class="modal-content">
		<div class="modalHeader">
			<span class="modalTitle">Value</span>
			<span class="closeBtn" ng-click="closeValueViewModal()">x</span>
		</div>
		<div>
			<iframe id="valueView" width="100%" height="400" ng-src="{{trustSrc('valueView')}}" frameborder="0" ></iframe>
		</div>
	</div>
</div>